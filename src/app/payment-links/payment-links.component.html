<div class=""></div>

<!-- <div class="row">

</div> -->
<div class="row d-flex">
    <div class="row payment_type">
      {{payment_type|titlecase}} payment link
    </div>
    <div class="row"   *ngIf="auth_type == 'using credentials'">
      <div class="col-11 col-lg-10 col-xl-8  d-sm-block d-md-flex user_key_box mx-3 mx-lg-4">

        <div class="col-sm-12 col-md-4">
          <div style="font-size: 14px;color: #373737;font-weight: bold;padding: 5px 15px;">
            Basic Authentication
          </div>
          <div class="dropdown mx-3">

            <a class="btn btn-sm btn-secondary dropdown-toggle"  role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
              {{auth_type | titlecase}}
            </a>

            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
              <li><a class="dropdown-item" (click)="changeAuth('default')">Default</a></li>
              <li><a class="dropdown-item" (click)="changeAuth('using credentials')">Using credentials</a></li>
            </ul>
          </div>
        </div>

        <div class="col-sm-10 col-md-4 ">
          <div style="font-size: 14px;color: #373737;padding: 5px 15px;">
            API Key
          </div>
          <div class="mx-3">
            <input class="form-control" type="text" [(ngModel)]="username" [class.danger]="auth_error == true">
          </div>
        </div>

        <div class="col-sm-10 col-md-4">
          <div style="font-size: 14px;color: #373737;padding: 5px 15px;">
            API Secret
          </div>
          <div class="mx-3">
            <input class="form-control" type="password" [(ngModel)]="password" [class.danger]="auth_error == true">
          </div>
        </div>
        <div>

        </div>

      </div>
    </div>
    <div class="row"  *ngIf="auth_type == 'default'">
      <div class="d-sm-block d-md-flex user_key_box mx-3 mx-lg-4" style="width:200px">

        <div >
          <div style="font-size: 14px;color: #373737;font-weight: bold;padding: 5px 15px;">
            Basic Authentication
          </div>
          <div class="dropdown mx-3">

            <a class="btn btn-sm btn-secondary dropdown-toggle"  role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
              {{auth_type | titlecase}}
            </a>

            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
              <li><a class="dropdown-item" (click)="changeAuth('default')">Default</a></li>
              <li><a class="dropdown-item" (click)="changeAuth('using credentials')">Using credentials</a></li>
            </ul>
          </div>
        </div>

        <div>

        </div>

      </div>
    </div>


    <div class="row">
      <div class="box col-lg-6 col-md-12 pb-0">
        <label class="title">Request</label>

        <div class="d-flex request position-relative" style="line-height: 0;">
          <div class="req-type" [style.background-color] = "color">
                {{api_type_control}}
          </div>
          <div class="flex-grow-1" style="height: 21px;">
            <input class="req-link" [style.background-color] = "bg_light" [style.border-color]="border" type="text" [formControl]="link_control"  [class.activate]="endpoint_edit == true" [readonly]="endpoint_edit == false" >
            <span class="material-icons position-absolute info_icon" *ngIf="endpoint_edit==true" [style.color] = "color" data-toggle="tooltip" data-placement="right" title="{{endpoint_edit_info}}">
              info
            </span>
          </div>
        </div>
        <!-- <div class="editor style-4" [formControl]="input_control" contentEditable ></div> -->
        <div class="d-flex" *ngIf="payment_type=='create'">
          <div class="pl_option" [class.sel_pl_option]="pl_option == 'standard pl'" (click)="set_pl_option('standard pl')">Standard PL</div>
          <div class="pl_option" [class.sel_pl_option]="pl_option == 'upi pl'" (click)="set_pl_option('upi pl')">UPI PL</div>
        </div>

      </div>

      <div class="box col-lg-6 col-md-12 pb-0 d-block d-none d-lg-block">
        <label class="title" style="margin-bottom: 32px;">Response</label>
      </div>

    </div>
    <div class="box col-lg-6 col-md-12 pt-0">


        <textarea class="editor style-4" id="input_area" [formControl]="input_control"  [readonly]="json_body_edit==false"></textarea>

        <div>
          <button class="btn btn-primary" *ngIf="payment_type=='create'" (click)="requestPaymentLink()">Create Payment Link</button>
          <button class="btn btn-primary" *ngIf="payment_type=='fetch'" (click)="requestPaymentLink()">Fetch Payment Link</button>
          <button class="btn btn-primary" *ngIf="payment_type=='update'" (click)="requestPaymentLink()">Update Payment Link</button>
          <button class="btn btn-danger" *ngIf="payment_type=='cancel'" (click)="requestPaymentLink()">Cancel Payment Link</button>
      </div>
    </div>

    <div class="box col-lg-6 col-md-12 pt-0 mb-md-4 mb-lg-0">
      <div class="box col-lg-6 col-md-12 pb-0 d-block d-lg-none p-0">
        <hr>
        <label class="title" style="margin-bottom: 16px;">Response</label>
      </div>
        <textarea class="editor style-4"  [formControl]="output_control" readonly [style.color]="response_color"></textarea>

    </div>
</div>

<!-- <table>
  <tbody >
    <ng-container *ngFor="let res of response_json">
      <tr >
        <td>{{res["short_url"]}}</td>

      </tr>
    </ng-container>
  </tbody>
</table> -->



